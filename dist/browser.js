"use strict";var O=Object.create;var s=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty;var D=(t,e)=>{for(var r in e)s(t,r,{get:e[r],enumerable:!0})},g=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of b(e))!U.call(t,a)&&a!==r&&s(t,a,{get:()=>e[a],enumerable:!(n=S(e,a))||n.enumerable});return t};var k=(t,e,r)=>(r=t!=null?O(T(t)):{},g(e||!t||!t.__esModule?s(r,"default",{value:t,enumerable:!0}):r,t)),I=t=>g(s({},"__esModule",{value:!0}),t);var C={};D(C,{pdfToImg:()=>j,singlePdfToImg:()=>P});module.exports=I(C);var u={imgType:"png",pages:"all",scale:1,background:"rgb(255,255,255)",intent:"display",documentOptions:{},maxWidth:null,maxHeight:null,scaleForBrowserSupport:!1},y=(t,e)=>{let r=e!==void 0?t:1,n=e!==void 0?e:t;return Array.from({length:n-r+1},(a,o)=>r+o)};function l(t,e){return t==="firstPage"?[1]:t==="lastPage"?[e]:typeof t=="number"?[Math.max(1,t)]:Array.isArray(t)?t.length?t:[1]:typeof t=="object"?y(t.startPage??1,t.endPage??e):y(1,e)}function A(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function j(t,e){let r=async n=>await P(n,e);return Array.isArray(t)?Promise.all(t.map(r)):r(t)}async function P(t,e={}){let r=await import("pdfjs-dist/legacy/build/pdf.mjs");r.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/4.8.69/pdf.worker.min.mjs";let n={...u,...e},o=await r.getDocument({...A(t)?{data:t}:{url:t},...n.documentOptions}).promise,i=o.numPages,c=l(n.pages,i),m=await Promise.all(c.map(d=>F(o,d,n)));return n.pages==="firstPage"||n.pages==="lastPage"||typeof n.pages=="number"?m[0]:m}async function F(t,e,r){let n=await t.getPage(e),a=r.scale,o=n.getViewport({scale:a});if(r.scaleForBrowserSupport||r.maxWidth||r.maxHeight){let{maxWidth:p,maxHeight:f}=r;p=p??4096,f=f??4096;let h=p/o.width,x=f/o.height,w=Math.min(h,x,1);a=a*w,o=n.getViewport({scale:a})}let i=document.createElement("canvas"),c=i.getContext("2d");i.height=o.height,i.width=o.width,await n.render({canvas:i,canvasContext:c,viewport:o,intent:r.intent||"display",background:r.background||"rgb(255,255,255)"}).promise;let d=r.imgType==="jpg"?"image/jpeg":"image/png";return i.toDataURL(d)}0&&(module.exports={pdfToImg,singlePdfToImg});
